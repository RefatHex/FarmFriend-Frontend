<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Upload Storage Gig</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container mt-5">
      <!-- Form to Upload New Storage Gig -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">
          <h4>Upload New Storage Gig</h4>
        </div>
        <div class="card-body">
          <form id="uploadGigForm">
            <div class="mb-3">
              <label for="address" class="form-label">Address</label>
              <input
                type="text"
                class="form-control"
                id="address"
                name="address"
                required
              />
            </div>
            <div class="mb-3">
              <label for="image" class="form-label">Image</label>
              <input type="file" class="form-control" id="image" name="image" />
            </div>
            <div class="mb-3">
              <label for="description" class="form-label">Description</label>
              <textarea
                class="form-control"
                id="description"
                name="description"
                rows="3"
                required
              ></textarea>
            </div>
            <div class="mb-3">
              <label for="price" class="form-label">Price</label>
              <input
                type="number"
                class="form-control"
                id="price"
                name="price"
                step="0.01"
                required
              />
            </div>
            <div class="mb-3">
              <label for="preferedCrop" class="form-label"
                >Preferred Crop</label
              >
              <select
                class="form-select"
                id="preferedCrop"
                name="prefered_crop"
                required
              >
                <option value="">Loading...</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="quantity" class="form-label">Quantity</label>
              <input
                type="number"
                class="form-control"
                id="quantity"
                name="quantity"
                required
              />
            </div>
            <div class="mb-3 form-check">
              <input
                type="checkbox"
                class="form-check-input"
                id="isAvailable"
                name="is_Available"
                checked
              />
              <label class="form-check-label" for="isAvailable"
                >Available</label
              >
            </div>
            <button type="submit" class="btn btn-primary">Upload Gig</button>
          </form>
        </div>
      </div>

      <!-- Available Gigs Section -->
      <div class="card">
        <div class="card-header bg-success text-white">
          <h4>Available Gigs</h4>
        </div>
        <div class="card-body">
          <div id="gigsList" class="list-group">
            <!-- Dynamically populated gigs -->
          </div>
        </div>
      </div>

      <!-- Edit Gig Popup -->
      <div
        class="modal fade"
        id="editGigModal"
        tabindex="-1"
        aria-labelledby="editGigModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="editGigModalLabel">Edit Gig</h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <div class="modal-body">
                <form id="editGigForm">
                  <input type="hidden" id="editGigId" />
                  <div class="mb-3">
                    <label for="editAddress" class="form-label">Address</label>
                    <input
                      type="text"
                      class="form-control"
                      id="editAddress"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="editDescription" class="form-label"
                      >Description</label
                    >
                    <textarea
                      class="form-control"
                      id="editDescription"
                      rows="3"
                      required
                    ></textarea>
                  </div>
                  <div class="mb-3">
                    <label for="editPrice" class="form-label">Price</label>
                    <input
                      type="number"
                      class="form-control"
                      id="editPrice"
                      step="0.01"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="editQuantity" class="form-label"
                      >Quantity</label
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="editQuantity"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="editImage" class="form-label">Image</label>
                    <input type="file" class="form-control" id="editImage" />
                    <img
                      id="editImagePreview"
                      src=""
                      alt="Current Image"
                      class="img-fluid mt-2"
                      style="max-height: 200px"
                    />
                  </div>
                  <div class="mb-3 form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      id="editIsAvailable"
                    />
                    <label class="form-check-label" for="editIsAvailable"
                      >Available</label
                    >
                  </div>
                  <button type="submit" class="btn btn-primary">
                    Save Changes
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="upload_storage_gigs.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
